(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[232],{9356:function(e,t,i){Promise.resolve().then(i.bind(i,2383))},2383:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return z}});var a=i(3827),s=i(4090),r=i(413);let n={"4-2-3-1":{name:"4-2-3-1",slots:[{id:"gk",position:"GK",x:50,y:88},{id:"lb",position:"LB",x:10,y:72},{id:"lcb",position:"CB",x:36.6,y:72},{id:"rcb",position:"CB",x:63.3,y:72},{id:"rb",position:"RB",x:90,y:72},{id:"lcdm",position:"CDM",x:35,y:54},{id:"rcdm",position:"CDM",x:65,y:54},{id:"lw",position:"LW",x:10,y:32},{id:"cam",position:"CAM",x:50,y:35},{id:"rw",position:"RW",x:90,y:32},{id:"st",position:"ST",x:50,y:15}]},"4-3-3":{name:"4-3-3",slots:[{id:"gk",position:"GK",x:50,y:88},{id:"lb",position:"LB",x:10,y:72},{id:"lcb",position:"CB",x:36.6,y:72},{id:"rcb",position:"CB",x:63.3,y:72},{id:"rb",position:"RB",x:90,y:72},{id:"lcm",position:"CM",x:30,y:52},{id:"cm",position:"CM",x:50,y:56},{id:"rcm",position:"CM",x:70,y:52},{id:"lw",position:"LW",x:10,y:28},{id:"st",position:"ST",x:50,y:15},{id:"rw",position:"RW",x:90,y:28}]},"4-4-2":{name:"4-4-2",slots:[{id:"gk",position:"GK",x:50,y:88},{id:"lb",position:"LB",x:10,y:72},{id:"lcb",position:"CB",x:36.6,y:72},{id:"rcb",position:"CB",x:63.3,y:72},{id:"rb",position:"RB",x:90,y:72},{id:"lm",position:"LM",x:10,y:45},{id:"lcm",position:"CM",x:38,y:54},{id:"rcm",position:"CM",x:62,y:54},{id:"rm",position:"RM",x:90,y:45},{id:"lst",position:"ST",x:35,y:15},{id:"rst",position:"ST",x:65,y:15}]},"3-5-2":{name:"3-5-2",slots:[{id:"gk",position:"GK",x:50,y:88},{id:"lcb",position:"CB",x:20,y:72},{id:"cb",position:"CB",x:50,y:76},{id:"rcb",position:"CB",x:80,y:72},{id:"lm",position:"LM",x:10,y:45},{id:"lcdm",position:"CDM",x:40,y:56},{id:"rcdm",position:"CDM",x:60,y:56},{id:"rm",position:"RM",x:90,y:45},{id:"cam",position:"CAM",x:50,y:32},{id:"lst",position:"ST",x:35,y:15},{id:"rst",position:"ST",x:65,y:15}]},"3-4-3":{name:"3-4-3",slots:[{id:"gk",position:"GK",x:50,y:88},{id:"lcb",position:"CB",x:20,y:72},{id:"cb",position:"CB",x:50,y:76},{id:"rcb",position:"CB",x:80,y:72},{id:"lm",position:"LM",x:10,y:45},{id:"lcm",position:"CM",x:40,y:54},{id:"rcm",position:"CM",x:60,y:54},{id:"rm",position:"RM",x:90,y:45},{id:"lw",position:"LW",x:10,y:25},{id:"st",position:"ST",x:50,y:15},{id:"rw",position:"RW",x:90,y:25}]},"5-3-2":{name:"5-3-2",slots:[{id:"gk",position:"GK",x:50,y:88},{id:"lb",position:"LWB",x:8,y:60},{id:"lcb",position:"CB",x:30,y:72},{id:"cb",position:"CB",x:50,y:76},{id:"rcb",position:"CB",x:70,y:72},{id:"rb",position:"RWB",x:92,y:60},{id:"lcm",position:"CM",x:35,y:48},{id:"cm",position:"CM",x:50,y:54},{id:"rcm",position:"CM",x:65,y:48},{id:"lst",position:"ST",x:35,y:15},{id:"rst",position:"ST",x:65,y:15}]}};var l=i(2169),o=i(3687);function d(e){let{player:t,onClick:i,className:r,positionLabel:n}=e,[d,c]=(0,s.useState)(!1),u=t.name.split(" ").pop()||t.name;return(0,a.jsxs)("div",{onClick:i,className:(0,l.cn)("flex flex-col items-center justify-start cursor-pointer group relative","w-[75px] md:w-[95px]",r),style:{overflow:"visible"},children:[(0,a.jsx)("div",{className:"relative z-10 transition-transform group-hover:scale-105",children:(0,a.jsx)(o.A,{imageUrl:t.image,name:t.name,size:"md",variant:"default",showName:!1})}),(0,a.jsx)("div",{className:"absolute top-full left-1/2 -translate-x-1/2 mt-1 w-[120px] md:w-[140px] flex justify-center z-20 pointer-events-none",children:(0,a.jsx)("p",{className:"text-white text-[10px] md:text-[12px] font-bold text-center leading-relaxed truncate px-1 py-1",style:{textShadow:"0 1px 2px rgba(0,0,0,0.9), 0 0 2px rgba(0,0,0,0.5)"},children:u})})]})}var c=i(108),u=i(2605),x=i(489),m=i(2235),p=i(8670);let h=[{id:"ALL",label:"T\xfcm\xfc",positions:[]},{id:"GK",label:"Kaleci",positions:["GK"]},{id:"DEF",label:"Defans",positions:["LB","RB","CB","LWB","RWB"]},{id:"MID",label:"Orta Saha",positions:["CDM","CM","CAM","LM","RM"]},{id:"FWD",label:"Forvet",positions:["LW","RW","ST"]}];function b(e){let{isOpen:t,onClose:i,onSelect:r,position:n,currentPlayer:o,onRemove:d}=e,[b,g]=(0,s.useState)(""),[f,y]=(0,s.useState)("ALL"),[v,w]=(0,s.useState)([]),[j,N]=(0,s.useState)(!1);(0,s.useEffect)(()=>{t&&n?y(n?["GK"].includes(n)?"GK":["LB","RB","CB","LWB","RWB"].includes(n)?"DEF":["CDM","CM","CAM","LM","RM"].includes(n)?"MID":["LW","RW","ST"].includes(n)?"FWD":"ALL":"ALL"):y("ALL"),g(""),t?(N(!0),fetch("/api/players/search?club=fenerbahce&limit=100").then(e=>e.json()).then(e=>{e.players&&w(e.players)}).catch(e=>console.error("Failed to fetch Fenerbah\xe7e players:",e)).finally(()=>N(!1))):w([])},[t,n]),(0,s.useEffect)(()=>{let e=setTimeout(async()=>{if(b.length>=3){N(!0);try{let e=await fetch("/api/players/search?query=".concat(encodeURIComponent(b))),t=await e.json();t.players&&w(t.players)}catch(e){console.error("Failed to fetch players:",e)}finally{N(!1)}}else if(0===b.length){N(!0);try{let e=await fetch("/api/players/search?club=fenerbahce&limit=100"),t=await e.json();t.players&&w(t.players)}catch(e){console.error("Failed to fetch players:",e)}finally{N(!1)}}},300);return()=>clearTimeout(e)},[b]);let{primaryMatches:k,otherMatches:C,isSearching:M}=(0,s.useMemo)(()=>{let e=b.length>0,t=e?[...c.F,...v]:[...v];if(t=Array.from(new Map(t.map(e=>[e.id,e])).values()),e){let e=b.toLowerCase();t=t.filter(t=>t.name.toLowerCase().includes(e))}if("ALL"!==f){var i;let e=(null===(i=h.find(e=>e.id===f))||void 0===i?void 0:i.positions)||[];t=t.filter(t=>e.includes(t.position))}let a=[],s=[];return t.forEach(e=>{n&&e.position===n?a.push(e):s.push(e)}),{primaryMatches:a,otherMatches:s,isSearching:e}},[b,f,n,v]);return((0,s.useEffect)(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[t]),t)?(0,a.jsx)("div",{className:"fixed inset-0 z-[100] flex justify-center items-center md:items-start md:pt-[5vh] bg-black/80 backdrop-blur-sm p-2 md:p-4 animate-in fade-in duration-200",children:(0,a.jsxs)("div",{className:"bg-[#f0f2f5] w-full max-w-5xl rounded-xl md:rounded-2xl shadow-2xl overflow-hidden flex flex-col h-[90vh] md:h-[85vh]",children:[(0,a.jsxs)("div",{className:"bg-fb-navy p-4 flex justify-between items-center shrink-0",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"text-xl font-bold text-white font-bebas tracking-wide flex items-center gap-2",children:["OYUNCU SE\xc7 ",n&&(0,a.jsxs)("span",{className:"text-fb-yellow",children:["(",n,")"]})]}),(0,a.jsx)("p",{className:"text-xs text-blue-200 mt-0.5",children:M?"T\xfcm veritabanında aranıyor":"Fenerbah\xe7e kadrosu g\xf6r\xfcnt\xfcleniyor"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[o&&d&&(0,a.jsxs)("button",{onClick:()=>{window.confirm("Oyuncuyu kaldırmak istediğinize emin misiniz?")&&d()},className:"flex items-center gap-2 px-3 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg text-xs font-bold transition-colors mr-2 shadow-md border border-red-500",children:[(0,a.jsx)(x.Z,{size:14}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"KALDIR"})]}),(0,a.jsx)("button",{onClick:i,className:"text-white/70 hover:text-white transition-colors bg-white/10 hover:bg-white/20 p-2 rounded-full",children:(0,a.jsx)(m.Z,{size:20})})]})]}),(0,a.jsxs)("div",{className:"bg-white border-b border-gray-200 shrink-0 shadow-sm z-10",children:[(0,a.jsx)("div",{className:"p-4 pb-2",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(p.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),(0,a.jsx)("input",{type:"text",placeholder:"Oyuncu ara... (Global arama i\xe7in en az 3 karakter)",value:b,onChange:e=>g(e.target.value),className:"w-full pl-10 pr-4 py-3 rounded-xl border border-gray-200 focus:border-fb-navy focus:ring-2 focus:ring-fb-navy/20 outline-none transition-all font-medium text-gray-900 placeholder:text-gray-400 bg-gray-50",autoFocus:!0}),j&&(0,a.jsx)("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:(0,a.jsx)("div",{className:"w-4 h-4 border-2 border-fb-navy border-t-transparent rounded-full animate-spin"})})]})}),(0,a.jsx)("div",{className:"flex px-4 overflow-x-auto hide-scrollbar gap-2 pb-3",children:h.map(e=>(0,a.jsx)("button",{onClick:()=>y(e.id),className:(0,l.cn)("px-4 py-2 rounded-lg text-sm font-bold whitespace-nowrap transition-all",f===e.id?"bg-fb-navy text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200 border border-transparent"),children:e.label},e.id))})]}),(0,a.jsx)("div",{className:"flex-1 overflow-y-auto min-h-0 p-4 bg-[#f0f2f5] custom-scrollbar",children:0===k.length&&0===C.length?(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center h-64 text-gray-500",children:[(0,a.jsx)(p.Z,{size:48,className:"mb-4 opacity-20"}),(0,a.jsx)("p",{className:"text-lg font-medium",children:"Oyuncu bulunamadı"}),(0,a.jsx)("p",{className:"text-sm text-gray-400 mt-1",children:b.length>0&&b.length<3?"Global arama i\xe7in en az 3 karakter yazın.":"Arama kriterlerinizi değiştirin."})]}):(0,a.jsxs)("div",{className:"space-y-8 pb-8",children:[k.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-3 px-1",children:[(0,a.jsx)("div",{className:"h-4 w-1 bg-fb-yellow rounded-full"}),(0,a.jsxs)("h4",{className:"text-sm font-bold text-gray-500 uppercase tracking-wider",children:["Bu Pozisyon İ\xe7in (",n,")"]})]}),(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 md:gap-4",children:k.map(e=>(0,a.jsx)(u.Z,{player:e,onClick:()=>r(e),isSelected:(null==o?void 0:o.id)===e.id,positionLabel:e.position},e.id))})]}),C.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-3 px-1",children:[(0,a.jsx)("div",{className:"h-4 w-1 bg-gray-300 rounded-full"}),(0,a.jsx)("h4",{className:"text-sm font-bold text-gray-500 uppercase tracking-wider",children:k.length>0?"Diğer Se\xe7enekler / Pozisyon Dışı":"T\xfcm Oyuncular"})]}),(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 md:gap-4",children:C.map(e=>(0,a.jsx)("div",{className:"opacity-90 hover:opacity-100 transition-opacity",children:(0,a.jsx)(u.Z,{player:e,onClick:()=>r(e),isSelected:(null==o?void 0:o.id)===e.id,positionLabel:e.position})},e.id))})]})]})})]})}):null}var g=i(834);function f(e){let{isOpen:t,onClose:i,onRemove:s,onChange:r,player:n}=e;return t?(0,a.jsxs)("div",{className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:[(0,a.jsxs)("div",{className:"bg-white w-full max-w-sm rounded-2xl shadow-2xl overflow-hidden transform transition-all scale-100",onClick:e=>e.stopPropagation(),children:[(0,a.jsxs)("div",{className:"bg-fb-navy p-4 flex justify-between items-center",children:[(0,a.jsx)("h3",{className:"text-lg font-bold text-white font-bebas tracking-wide",children:"OYUNCU İŞLEMLERİ"}),(0,a.jsx)("button",{onClick:i,className:"text-white/70 hover:text-white transition-colors bg-white/10 hover:bg-white/20 p-1.5 rounded-full",children:(0,a.jsx)(m.Z,{size:18})})]}),(0,a.jsxs)("div",{className:"p-6 flex flex-col items-center gap-6",children:[(0,a.jsx)("div",{className:"scale-110",children:(0,a.jsx)(u.Z,{player:n,size:"md",variant:"white"})}),(0,a.jsxs)("div",{className:"w-full space-y-3",children:[(0,a.jsxs)("button",{onClick:()=>{r(),i()},className:"w-full flex items-center justify-center gap-3 bg-fb-navy text-white py-3.5 rounded-xl font-bold hover:bg-fb-navy/90 transition-colors shadow-md active:scale-[0.98]",children:[(0,a.jsx)(g.Z,{size:20}),"OYUNCUYU DEĞİŞTİR"]}),(0,a.jsxs)("button",{onClick:()=>{s(),i()},className:"w-full flex items-center justify-center gap-3 bg-red-50 text-red-600 border-2 border-red-100 py-3.5 rounded-xl font-bold hover:bg-red-100 transition-colors active:scale-[0.98]",children:[(0,a.jsx)(x.Z,{size:20}),"KADRODAN \xc7IKAR"]})]})]})]}),(0,a.jsx)("div",{className:"absolute inset-0 -z-10",onClick:i})]}):null}var y=i(94),v=i(7615);let w=["GK","LB","CB","RB","LWB","RWB","CDM","CM","CAM","LM","RM","LW","RW","ST"];function j(e){var t,i;let{slot:r,player:n,customPosition:o,onRemove:c,onClick:u,onLabelChange:x,isExport:m}=e,{attributes:p,listeners:h,setNodeRef:b,transform:g,isDragging:f}=(0,v.O1)({id:r.id}),[j,N]=(0,s.useState)(!1),[k,C]=(0,s.useState)(!1),[M,L]=(0,s.useState)((null==o?void 0:o.label)||r.position),S=null!==(t=null==o?void 0:o.x)&&void 0!==t?t:r.x,R=null!==(i=null==o?void 0:o.y)&&void 0!==i?i:r.y,z={left:"".concat(S,"%"),top:"".concat(R,"%"),transform:g?"translate3d(".concat(g.x,"px, ").concat(g.y,"px, 0) translate(-50%, -50%)"):void 0,position:"absolute",zIndex:f?50:10},B=e=>{L(e),x(e),C(!1)},P=()=>{C(!1),N(!0)},A=()=>{N(!1),x(M)};return(0,a.jsxs)("div",{ref:b,style:z,className:(0,l.cn)("flex flex-col items-center justify-center touch-none",!g&&"-translate-x-1/2 -translate-y-1/2",f&&"opacity-80 scale-105 cursor-grabbing"),...h,...p,children:[(0,a.jsx)("div",{className:"relative group flex items-center justify-center",children:n?(0,a.jsx)("div",{onClick:e=>{e.stopPropagation(),u()},className:"cursor-pointer transition-transform hover:scale-105 relative",children:(0,a.jsx)(d,{player:n,positionLabel:M})}):(0,a.jsx)("button",{onClick:e=>{e.stopPropagation(),u()},className:(0,l.cn)("rounded-full bg-white/20 hover:bg-fb-yellow/80 border-2 border-white/40 hover:border-fb-navy flex items-center justify-center transition-all duration-300 group shadow-lg backdrop-blur-sm","w-16 h-16 md:w-20 md:h-20"),children:(0,a.jsx)(y.Z,{className:"text-white group-hover:text-fb-navy transition-colors w-8 h-8"})})}),!n&&(0,a.jsx)("div",{className:"absolute top-[85%] left-1/2 -translate-x-1/2 z-20",children:j?(0,a.jsx)("input",{type:"text",value:M,onChange:e=>L(e.target.value.toUpperCase()),onBlur:A,onKeyDown:e=>{"Enter"===e.key?A():"Escape"===e.key&&(N(!1),L((null==o?void 0:o.label)||r.position))},autoFocus:!0,maxLength:4,className:"w-12 text-center text-[0.7rem] font-bold text-fb-navy bg-white rounded px-1 py-0.5 outline-none border-2 border-fb-yellow shadow-sm"}):k?(0,a.jsxs)("div",{className:"absolute bottom-full mb-1 left-1/2 -translate-x-1/2 bg-white rounded-lg shadow-xl border-2 border-fb-navy/20 p-2 z-50 w-32",children:[(0,a.jsx)("div",{className:"max-h-48 overflow-y-auto space-y-1 custom-scrollbar",children:w.map(e=>(0,a.jsx)("button",{onClick:t=>{t.stopPropagation(),B(e)},className:"w-full text-left px-2 py-1 text-xs font-bold text-fb-navy hover:bg-fb-yellow/30 rounded transition-colors",children:e},e))}),(0,a.jsx)("button",{onClick:e=>{e.stopPropagation(),P()},className:"w-full mt-2 pt-2 border-t border-gray-200 text-xs text-gray-600 hover:text-fb-navy font-semibold",children:"\xd6zel..."}),(0,a.jsx)("button",{onClick:e=>{e.stopPropagation(),C(!1)},className:"w-full mt-1 text-xs text-gray-400 hover:text-gray-600",children:"İptal"})]}):(0,a.jsx)("div",{onClick:e=>{e.stopPropagation(),C(!0)},className:"bg-fb-navy/90 backdrop-blur-sm text-white font-bold px-[0.5em] py-[0.1em] rounded shadow-[0_2px_4px_rgba(0,0,0,0.3)] border border-white/20 cursor-pointer hover:bg-fb-yellow hover:text-fb-navy transition-all select-none text-[0.7rem] whitespace-nowrap",children:M})})]})}function N(e){var t;let{readonly:i,isExport:l}=e,{formation:o,squad:d,customPositions:c,addPlayerToSlot:u,removePlayerFromSlot:x,updateSlotPosition:m,updateSlotLabel:p,squadName:h}=(0,r.Q)(),[g,y]=(0,s.useState)(null),[w,N]=(0,s.useState)(null),[k,C]=(0,s.useState)(null),M=(0,s.useRef)(null),L=n[o],S=(0,v.Dy)((0,v.VT)(v.we,{activationConstraint:{distance:8}}));return(0,a.jsxs)("div",{id:"squad-pitch",className:"w-full max-w-[500px] mx-auto shadow-2xl rounded-xl overflow-hidden flex flex-col bg-fb-navy border-[6px] border-white/20",children:[(0,a.jsxs)("div",{className:"relative w-full bg-gradient-to-r from-[#001d3d] via-fb-navy to-[#001d3d] py-4 px-2 border-b-[4px] border-fb-yellow flex items-center justify-center overflow-hidden shrink-0 z-30 rounded-t-xl shadow-lg",children:[(0,a.jsx)("div",{className:"absolute inset-0 opacity-20 pointer-events-none",style:{backgroundImage:"linear-gradient(rgba(0, 255, 255, 0.1) 1px, transparent 1px), linear-gradient(90deg, rgba(0, 255, 255, 0.1) 1px, transparent 1px)",backgroundSize:"20px 20px"}}),(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-cyan-400/10 to-transparent pointer-events-none"}),(0,a.jsx)("h2",{className:"text-white font-black text-2xl md:text-4xl uppercase tracking-widest text-center font-sans relative z-10",style:{textShadow:"0 0 10px rgba(0, 255, 255, 0.6), 0 0 20px rgba(0, 100, 255, 0.4)"},children:h||"KADRO"})]}),(0,a.jsxs)("div",{className:"relative w-full aspect-[9/16] bg-[#2c8f2c]",children:[(0,a.jsx)("div",{className:"absolute inset-0 pointer-events-none",style:{backgroundImage:"\n                        repeating-linear-gradient(\n                            0deg,\n                            transparent,\n                            transparent 50px,\n                            rgba(0,0,0,0.05) 50px,\n                            rgba(0,0,0,0.05) 100px\n                        ),\n                        radial-gradient(circle at 50% 50%, rgba(255,255,255,0.1) 0%, transparent 60%)\n                    "}}),(0,a.jsxs)("div",{className:"absolute inset-4 border-2 border-white/60 opacity-80 pointer-events-none",children:[(0,a.jsx)("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[30%] aspect-square border-2 border-white/60 rounded-full"}),(0,a.jsx)("div",{className:"absolute top-1/2 left-0 w-full h-0.5 bg-white/60 -translate-y-1/2"}),(0,a.jsx)("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-[60%] h-[16%] border-2 border-t-0 border-white/60"}),(0,a.jsx)("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-[60%] h-[16%] border-2 border-b-0 border-white/60"}),(0,a.jsx)("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-[25%] h-[6%] border-2 border-t-0 border-white/60"}),(0,a.jsx)("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-[25%] h-[6%] border-2 border-b-0 border-white/60"}),(0,a.jsx)("div",{className:"absolute top-0 left-0 w-[4%] aspect-square border-b-2 border-r-2 border-white/60 rounded-br-full"}),(0,a.jsx)("div",{className:"absolute top-0 right-0 w-[4%] aspect-square border-b-2 border-l-2 border-white/60 rounded-bl-full"}),(0,a.jsx)("div",{className:"absolute bottom-0 left-0 w-[4%] aspect-square border-t-2 border-r-2 border-white/60 rounded-tr-full"}),(0,a.jsx)("div",{className:"absolute bottom-0 right-0 w-[4%] aspect-square border-t-2 border-l-2 border-white/60 rounded-tl-full"})]}),(0,a.jsx)("div",{className:"absolute inset-0 pointer-events-none bg-gradient-to-b from-black/20 via-transparent to-black/20"}),(0,a.jsx)("div",{className:"absolute z-20 pointer-events-none opacity-90 top-[3%] left-[4%] w-[25%]",children:(0,a.jsx)("img",{src:"/fener-ajans-watermark.png",alt:"Fener Ajans",className:"w-full h-auto object-contain drop-shadow-lg"})}),(0,a.jsx)("div",{ref:M,className:"absolute inset-0",children:(0,a.jsx)(v.LB,{sensors:S,onDragEnd:e=>{var t,a,s,r,n;if(i)return;let{active:l,delta:o}=e,d=l.id;if(!M.current)return;let u=M.current.getBoundingClientRect(),x=L.slots.find(e=>e.id===d),h=c[d],b=null!==(a=null!==(t=null==h?void 0:h.x)&&void 0!==t?t:null==x?void 0:x.x)&&void 0!==a?a:50,g=null!==(r=null!==(s=null==h?void 0:h.y)&&void 0!==s?s:null==x?void 0:x.y)&&void 0!==r?r:50,f=o.x/u.width*100,y=o.y/u.height*100,v=b+f,w=g+y;m(d,v=Math.max(5,Math.min(95,v)),w=Math.max(5,Math.min(95,w))),p(d,(n=w)<20?"ST":n<35?"LW":n<50?"CAM":n<65?"CM":n<80?"CDM":"CB")},children:(0,a.jsx)("div",{className:"absolute inset-0 pointer-events-none",children:(0,a.jsx)("div",{className:"absolute inset-0 pointer-events-auto",children:L.slots.map(e=>(0,a.jsx)(j,{slot:e,player:d[e.id],customPosition:c[e.id],onRemove:()=>!i&&x(e.id),onClick:()=>{i||(d[e.id]&&window.innerWidth>=768?N(e.id):y(e.id))},onLabelChange:t=>!i&&p(e.id,t),isExport:l},e.id))})})})}),w&&!i&&d[w]&&(0,a.jsx)("div",{className:"hidden md:block",children:(0,a.jsx)(f,{isOpen:!!w,onClose:()=>N(null),onRemove:()=>{x(w),N(null)},onChange:()=>{y(w),N(null)},player:d[w]})}),g&&!i&&(0,a.jsx)(b,{isOpen:!!g,onClose:()=>y(null),onSelect:e=>{e&&u(e,g),y(null)},onRemove:()=>{x(g),y(null)},position:null===(t=L.slots.find(e=>e.id===g))||void 0===t?void 0:t.position,currentPlayer:d[g]})]})]})}var k=i(3348),C=i(4715),M=i(2874),L=i.n(M);function S(e){let{targetRef:t}=e,[i,n]=(0,s.useState)(!1),l=(0,r.Q)(e=>e.squadName),o=async()=>{let e=document.getElementById("squad-pitch");if(!e){console.error("Pitch element not found");return}n(!0);try{window.scrollTo(0,0),await document.fonts.ready,await new Promise(e=>setTimeout(e,500)),await (()=>{let t=Array.from(e.querySelectorAll("img"));return Promise.all(t.map(e=>e.complete?Promise.resolve():new Promise(t=>{e.onload=()=>t(),e.onerror=()=>t()})))})();let t=(await L()(e,{backgroundColor:null,scale:window.devicePixelRatio||2,logging:!1,useCORS:!0,allowTaint:!1,imageTimeout:0,scrollX:0,scrollY:0,ignoreElements:e=>e.hasAttribute("data-html2canvas-ignore")})).toDataURL("image/png"),i=document.createElement("a");i.href=t,((null==l?void 0:l.trim())||"adsiz-kadro").toLowerCase().replace(/[^a-z0-9çğıöşü]+/g,"-").replace(/^-+|-+$/g,"");let a={ç:"c",ğ:"g",ı:"i",ö:"o",ş:"s",ü:"u",Ç:"c",Ğ:"g",İ:"i",Ö:"o",Ş:"s",Ü:"u"},s=((null==l?void 0:l.trim())||"adsiz-kadro").split("").map(e=>a[e]||e).join("").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"");i.download=s?"fener_ajans_kadro_".concat(s,".png"):"fener_ajans_kadro.png",i.click()}catch(e){console.error("Error generating squad image:",e),alert("Kadro g\xf6rseli oluşturulurken bir hata oluştu. L\xfctfen tekrar deneyin.")}finally{n(!1)}};return(0,a.jsxs)("button",{onClick:o,disabled:i,className:"flex items-center justify-center gap-2 bg-fb-yellow hover:bg-yellow-400 text-fb-navy font-bold py-3 px-4 rounded-lg transition-colors shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,a.jsx)(C.Z,{size:18}),(0,a.jsx)("span",{children:i?"Hazırlanıyor...":"Kadroyu İndir"})]})}let R=()=>{let e=(0,s.useRef)(null),t=(0,s.useRef)([]),i=(0,s.useRef)();return(0,s.useEffect)(()=>{let a=e.current;if(!a)return;let s=a.getContext("2d");if(!s)return;let r=()=>{a.width=window.innerWidth,a.height=window.innerHeight,n()},n=()=>{t.current=[];let e=Math.floor(a.width*a.height/1e4);for(let i=0;i<e;i++)t.current.push({x:Math.random()*a.width,y:Math.random()*a.height,vx:(Math.random()-.5)*1.5,vy:(Math.random()-.5)*1.5,size:3*Math.random()+1,color:Math.random()>.5?"#002d72":"#f6eb16"})},l=()=>{s.clearRect(0,0,a.width,a.height),t.current.forEach(e=>{e.x+=e.vx,e.y+=e.vy,(e.x<0||e.x>a.width)&&(e.vx*=-1),(e.y<0||e.y>a.height)&&(e.vy*=-1),s.beginPath(),s.arc(e.x,e.y,e.size,0,2*Math.PI),s.fillStyle=e.color,s.globalAlpha=.6,s.fill()}),t.current.forEach((e,i)=>{t.current.slice(i+1).forEach(t=>{let i=e.x-t.x,a=e.y-t.y,r=Math.sqrt(i*i+a*a);r<100&&(s.beginPath(),s.moveTo(e.x,e.y),s.lineTo(t.x,t.y),s.strokeStyle=e.color,s.globalAlpha=.2*(1-r/100),s.lineWidth=.5,s.stroke())})}),i.current=requestAnimationFrame(l)};return r(),window.addEventListener("resize",r),l(),()=>{window.removeEventListener("resize",r),i.current&&cancelAnimationFrame(i.current)}},[]),(0,a.jsx)("canvas",{ref:e,className:"fixed top-0 left-0 w-full h-full pointer-events-none z-0",style:{background:"linear-gradient(to bottom, #002d72, #001f4d)"}})};function z(){let{formation:e,setFormation:t,resetSquad:i,squad:l,calculateTotalCost:o,calculateAverageRating:d}=(0,r.Q)(),c=(0,s.useRef)(null),u=(0,s.useRef)(null);o(),d();let x=Object.keys(l).length;return(0,a.jsxs)("div",{className:"min-h-[calc(100vh-80px)] relative overflow-hidden bg-[#001d3d]",children:[(0,a.jsx)("div",{className:"absolute inset-0 pointer-events-none opacity-30",style:{backgroundImage:"radial-gradient(circle, #ffffff 1px, transparent 1px)",backgroundSize:"30px 30px"}}),(0,a.jsx)(R,{}),(0,a.jsx)("div",{className:"relative z-10 container mx-auto px-4 py-4 md:py-8",children:(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row gap-6 lg:gap-12 items-start justify-center",children:[(0,a.jsxs)("div",{className:"w-full lg:w-80 space-y-4 shrink-0 order-1 lg:order-1",children:[(0,a.jsxs)("div",{className:"bg-fb-navy/90 backdrop-blur-md rounded-xl p-4 md:p-6 border border-white/20 shadow-xl",children:[(0,a.jsx)("label",{className:"block text-xs font-bold text-white/80 uppercase tracking-wider mb-2",children:"Kadro Adı"}),(0,a.jsx)("input",{type:"text",value:(0,r.Q)(e=>e.squadName),onChange:e=>r.Q.getState().setSquadName(e.target.value),placeholder:"\xd6rneğin: 2008 Efsane Kadro",maxLength:40,className:"w-full bg-white/10 text-white text-sm font-bold placeholder-white/30 rounded-lg px-4 py-3 outline-none border border-white/10 focus:border-fb-yellow focus:ring-1 focus:ring-fb-yellow transition-all"})]}),(0,a.jsxs)("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-4 md:p-6 border border-white/20 shadow-xl space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Diziliş Se\xe7"}),(0,a.jsx)("select",{value:e,onChange:e=>t(e.target.value),className:"w-full bg-white text-fb-navy font-bold rounded-lg px-4 py-3 outline-none focus:ring-2 focus:ring-fb-yellow shadow-inner",children:Object.values(n).map(e=>(0,a.jsx)("option",{value:e.name,children:e.name},e.name))})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center pt-2 border-t border-white/10",children:[(0,a.jsx)("span",{className:"text-gray-300 text-sm",children:"Oyuncular"}),(0,a.jsxs)("span",{className:"text-lg font-bold text-white",children:[x," / 11"]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("button",{onClick:i,className:"flex items-center justify-center gap-2 bg-red-600 hover:bg-red-700 text-white py-3 px-4 rounded-lg font-bold transition-colors shadow-lg text-sm md:text-base",children:[(0,a.jsx)(k.Z,{size:18}),"Sıfırla"]}),(0,a.jsx)(S,{targetRef:u})]}),(0,a.jsx)("div",{className:"text-center lg:hidden",children:(0,a.jsx)("p",{className:"text-[10px] text-gray-400",children:"* Oyuncuları eklemek i\xe7in boş alanlara tıklayın."})})]}),(0,a.jsxs)("div",{className:"flex-1 w-full max-w-[420px] lg:max-w-[500px] mx-auto order-2 lg:order-2",ref:c,children:[(0,a.jsx)("div",{className:"relative",children:(0,a.jsx)(N,{})}),(0,a.jsx)("div",{className:"text-center mt-4 hidden lg:block",children:(0,a.jsx)("p",{className:"text-xs text-gray-400",children:"* Oyuncuları s\xfcr\xfckleyip bırakarak yerlerini değiştirebilirsiniz."})})]})]})})]})}},3687:function(e,t,i){"use strict";i.d(t,{A:function(){return l}});var a=i(3827),s=i(4090),r=i(1213),n=i(2169);function l(e){let{imageUrl:t,name:i,className:l,size:o="md",showName:d=!0,variant:c="default"}=e,u=e=>{if(e)return e.startsWith("data:")||e.startsWith("/")||e.includes("wsrv.nl")?e:"https://wsrv.nl/?url=".concat(encodeURIComponent(e),"&w=200&h=200&fit=cover")},[x,m]=(0,s.useState)(!1),[p,h]=(0,s.useState)(u(t));return(0,s.useEffect)(()=>{h(u(t)),m(!1)},[t]),(0,a.jsxs)("div",{className:(0,n.cn)("flex flex-col items-center gap-1",l),children:[(0,a.jsx)("div",{className:(0,n.cn)("relative rounded-full overflow-hidden border-[3px] border-white shadow-lg bg-gray-200 flex items-center justify-center shrink-0",{sm:"w-10 h-10",md:"w-16 h-16 md:w-20 md:h-20",lg:"w-24 h-24",xl:"w-32 h-32"}[o]),children:t&&!x?(0,a.jsx)("img",{src:p,alt:i,className:"w-full h-full object-cover",crossOrigin:"anonymous",onError:()=>m(!0)}):(0,a.jsx)(r.Z,{className:"w-1/2 h-1/2 text-gray-400"})}),d&&(0,a.jsx)("div",{className:(0,n.cn)("text-xs font-bold text-center leading-tight px-1 z-10","default"===c?"text-white drop-shadow-[0_1px_2px_rgba(0,0,0,0.8)] whitespace-nowrap":"text-fb-navy line-clamp-2"),children:i})]})}},2605:function(e,t,i){"use strict";i.d(t,{Z:function(){return l}});var a=i(3827),s=i(2169),r=i(4090),n=i(3687);function l(e){let{player:t,onClick:i,isSelected:l,className:o,positionLabel:d}=e,[c,u]=(0,r.useState)(!1);return t.name.trim().split(" ").pop(),(0,a.jsx)("div",{onClick:i,className:(0,s.cn)("relative flex flex-col items-center justify-start rounded-xl border-2 shadow-sm hover:shadow-md transition-all cursor-pointer overflow-hidden p-2","bg-white border-fb-navy/20",l&&"ring-2 ring-fb-navy ring-offset-2",o),style:{aspectRatio:"3/4"},children:(0,a.jsx)("div",{className:"flex-1 flex flex-col items-center justify-center w-full",children:(0,a.jsx)(n.A,{imageUrl:t.image,name:t.name,size:"md",variant:"card",className:"w-full"})})})}},108:function(e,t,i){"use strict";i.d(t,{F:function(){return a}});let a=[{id:"haaland",name:"Erling Haaland",position:"ST",rating:91,value:18e7,image:"https://img.a.transfermarkt.technology/portrait/header/418560-1630998717.jpg",club:"Manchester City"},{id:"mbappe",name:"Kylian Mbapp\xe9",position:"ST",rating:91,value:18e7,image:"https://img.a.transfermarkt.technology/portrait/header/342229-1699009734.jpg",club:"Real Madrid"},{id:"kdb",name:"Kevin De Bruyne",position:"CM",rating:91,value:7e7,image:"https://img.a.transfermarkt.technology/portrait/header/88755-1650355802.jpg",club:"Manchester City"},{id:"bellingham",name:"Jude Bellingham",position:"CAM",rating:90,value:15e7,image:"https://img.a.transfermarkt.technology/portrait/header/581678-1723451615.jpg",club:"Real Madrid"},{id:"vini",name:"Vin\xedcius J\xfanior",position:"LW",rating:89,value:15e7,image:"https://img.a.transfermarkt.technology/portrait/header/371998-1721383044.jpg",club:"Real Madrid"},{id:"rodri",name:"Rodri",position:"CDM",rating:89,value:11e7,image:"https://img.a.transfermarkt.technology/portrait/header/357565-1657111927.jpg",club:"Manchester City"},{id:"kane",name:"Harry Kane",position:"ST",rating:90,value:11e7,image:"https://img.a.transfermarkt.technology/portrait/header/132098-1664362947.jpg",club:"Bayern Munich"},{id:"salah",name:"Mohamed Salah",position:"RW",rating:89,value:65e6,image:"https://img.a.transfermarkt.technology/portrait/header/148455-1697036526.jpg",club:"Liverpool"},{id:"courtois",name:"Thibaut Courtois",position:"GK",rating:90,value:35e6,image:"https://img.a.transfermarkt.technology/portrait/header/108390-1664369165.jpg",club:"Real Madrid"},{id:"vvd",name:"Virgil van Dijk",position:"CB",rating:89,value:32e6,image:"https://img.a.transfermarkt.technology/portrait/header/139208-1682081801.jpg",club:"Liverpool"},{id:"messi",name:"Lionel Messi",position:"RW",rating:90,value:3e7,image:"https://img.a.transfermarkt.technology/portrait/header/28003-1718190607.jpg",club:"Inter Miami"},{id:"ronaldo",name:"Cristiano Ronaldo",position:"ST",rating:86,value:15e6,image:"https://img.a.transfermarkt.technology/portrait/header/8198-1694609670.jpg",club:"Al-Nassr"}]},2169:function(e,t,i){"use strict";i.d(t,{cn:function(){return r}});var a=i(3167),s=i(1367);function r(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return(0,s.m6)((0,a.W)(t))}},413:function(e,t,i){"use strict";i.d(t,{Q:function(){return r}});var a=i(2020),s=i(5249);let r=(0,a.Ue)()((0,s.tJ)((e,t)=>({formation:"4-2-3-1",squad:{},customPositions:{},squadName:"",budget:1e8,ownedPlayers:[],setFormation:t=>e({formation:t,customPositions:{}}),setSquadName:t=>e({squadName:t}),buyPlayer:t=>e(e=>e.budget>=t.value?{budget:e.budget-t.value,ownedPlayers:[...e.ownedPlayers,t]}:e),addPlayerToSlot:(t,i)=>e(e=>({squad:{...e.squad,[i]:t}})),removePlayerFromSlot:t=>e(e=>{let i={...e.squad};return delete i[t],{squad:i}}),updateSlotPosition:(t,i,a)=>e(e=>({customPositions:{...e.customPositions,[t]:{...e.customPositions[t],x:i,y:a}}})),updateSlotLabel:(t,i)=>e(e=>({customPositions:{...e.customPositions,[t]:{...e.customPositions[t],label:i}}})),resetSquad:()=>e({squad:{},customPositions:{},squadName:"",budget:1e8,ownedPlayers:[]}),calculateTotalCost:()=>(Object.values(t().squad).reduce((e,t)=>e+((null==t?void 0:t.value)||0),0)/1e6).toFixed(1),calculateAverageRating:()=>{let e=Object.values(t().squad).filter(e=>null!==e);return 0===e.length?"0.0":(e.reduce((e,t)=>e+t.rating,0)/e.length).toFixed(1)}}),{name:"fenerbahce-squad-storage"}))}},function(e){e.O(0,[337,793,391,235,971,69,744],function(){return e(e.s=9356)}),_N_E=e.O()}]);